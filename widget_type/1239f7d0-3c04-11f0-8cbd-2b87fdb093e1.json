{
  "entityType" : "WIDGET_TYPE",
  "entity" : {
    "fqn" : "presence_sensor_prod",
    "name" : "presence sensor Prod",
    "deprecated" : false,
    "image" : "tb-image;/api/images/tenant/Capturar_(23).PNG",
    "description" : null,
    "descriptor" : {
      "type" : "latest",
      "sizeX" : 4.5,
      "sizeY" : 4.5,
      "resources" : [ ],
      "templateHtml" : "<div id=\"title\"\r\n    [ngStyle]=\"{'background': linear-gradient(#f5f5f5, #d9d9d9) }\">\r\n\r\n    <p id=\"titulo\">{{entityName}}</p>\r\n\r\n    <div class=\"SVGdiv\">\r\n       \r\n\r\n    <svg *ngIf=\"data == 'detected' || data == 'not_detected'\" version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" height=\"40%\" viewBox=\"0 -960 960 960\" width=\"40%\" fill=\"#00ff00\"><path d=\"m280-40 112-564-72 28v136h-80v-188l202-86q14-6 29.5-7t29.5 4q14 5 26.5 14t20.5 23l40 64q26 42 70.5 69T760-520v80q-70 0-125-29t-94-74l-25 123 84 80v300h-80v-260l-84-64-72 324h-84Zm260-700q-33 0-56.5-23.5T460-820q0-33 23.5-56.5T540-900q33 0 56.5 23.5T620-820q0 33-23.5 56.5T540-740Z\"/></svg>\r\n    \r\n    <svg *ngIf=\"data == 'not_detected' || data == 'not_detected'\" version=\"1.1\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" height=\"40%\" viewBox=\"0 -960 960 960\" width=\"40%\" fill=\"#ff0000\"><path d=\"m280-40 112-564-72 28v136h-80v-188l202-86q14-6 29.5-7t29.5 4q14 5 26.5 14t20.5 23l40 64q26 42 70.5 69T760-520v80q-70 0-125-29t-94-74l-25 123 84 80v300h-80v-260l-84-64-72 324h-84Zm260-700q-33 0-56.5-23.5T460-820q0-33 23.5-56.5T540-900q33 0 56.5 23.5T620-820q0 33-23.5 56.5T540-740Z\"/></svg>\r\n    \r\n\r\n</div>\r\n</div>",
      "templateCss" : "\n\n#title{\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    gap: 5%;\n    width: 100%;\n    height: 100%;\n    margin: 0;\n}\n\n#container {\n    overflow: hidden;\n}\n\nsvg{\n    height: 90%;\n    z-index: 2;\n}\n\n.SVGdiv{\n    height: 50%;\n    width: 100%;\n    z-index: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\np{\n    margin:0;\n   padding: 10px;\n   z-index: 3;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n#titulo{\n    font-size: 1.1rem;\n}\n#conteudo{\n    font-size: 1.6rem;\n    font-weight: bold;\n}\n#legenda{\n    font-size: 0.9rem;\n    font-weight: 400;\n    margin: 0;\n}\n",
      "controllerScript" : "function fetchData() {\n    const subscriptionData = self.ctx.data[0].data;\n    const data = !subscriptionData.length || !subscriptionData[0][1]  ? null : subscriptionData[0][1] \n\n    self.ctx.$scope.data = data\n\n    var entityName = self.ctx.defaultSubscription.data[0]\n        .datasource.entityLabel\n    \n    self.ctx.$scope.entityName = entityName\n}\n\nself.onInit = function() {\n    self.ctx.detectChanges();\n}\n\nself.onDataUpdated = function() {\n    fetchData()\n    self.ctx.detectChanges();\n}\n\nself.onLatestDataUpdated = function() {\n    self.ctx.detectChanges();\n}",
      "settingsSchema" : "",
      "dataKeySettingsSchema" : "{}\n",
      "settingsDirective" : "",
      "dataKeySettingsDirective" : "tb-value-card-widget-settings",
      "hasBasicMode" : true,
      "defaultConfig" : "{\"datasources\":[{\"type\":\"function\",\"name\":\"function\",\"dataKeys\":[{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random\",\"color\":\"#2196f3\",\"settings\":{},\"_hash\":0.15479322438769105,\"funcBody\":\"var value = prevValue + Math.random() * 100 - 50;\\nvar multiplier = Math.pow(10, 2 || 0);\\nvar value = Math.round(value * multiplier) / multiplier;\\nif (value < -100) {\\n\\tvalue = -100;\\n} else if (value > 100) {\\n\\tvalue = 100;\\n}\\nreturn value;\",\"aggregationType\":null,\"units\":null,\"decimals\":null,\"usePostProcessing\":null,\"postFuncBody\":null},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random 2\",\"color\":\"#4caf50\",\"settings\":{},\"_hash\":0.6972230379918407,\"funcBody\":\"var value = prevValue + Math.random() * 100 - 50;\\nvar multiplier = Math.pow(10, 2 || 0);\\nvar value = Math.round(value * multiplier) / multiplier;\\nif (value < -1000) {\\n\\tvalue = -1000;\\n} else if (value > 1000) {\\n\\tvalue = 1000;\\n}\\nreturn value;\"}],\"alarmFilterConfig\":{\"statusList\":[\"ACTIVE\"]}}],\"timewindow\":{\"realtime\":{\"timewindowMs\":60000}},\"showTitle\":false,\"backgroundColor\":\"#673AB500\",\"color\":\"rgb(255, 255, 255)\",\"padding\":\"0\",\"settings\":{\"TituloWidget\":\"Temperatura\"},\"title\":\"presence sensor Prod\",\"showTitleIcon\":false,\"titleTooltip\":\"\",\"dropShadow\":true,\"enableFullscreen\":false,\"widgetStyle\":{},\"widgetCss\":\"\",\"titleStyle\":{\"fontSize\":\"16px\",\"fontWeight\":400},\"pageSize\":1024,\"noDataDisplayMessage\":\"\",\"borderRadius\":\"10px\",\"configMode\":\"advanced\",\"useDashboardTimewindow\":true,\"displayTimewindow\":true,\"enableDataExport\":false}"
    },
    "externalId" : null,
    "resources" : null,
    "id" : {
      "entityType" : "WIDGET_TYPE",
      "id" : "1239f7d0-3c04-11f0-8cbd-2b87fdb093e1"
    },
    "scada" : false,
    "tags" : null
  },
  "relations" : [ ],
  "attributes" : {
    "SERVER_SCOPE" : [ ]
  }
}