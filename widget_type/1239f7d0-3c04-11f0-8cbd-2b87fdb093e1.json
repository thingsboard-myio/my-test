{
  "entityType" : "WIDGET_TYPE",
  "entity" : {
    "fqn" : "presence_sensor_prod",
    "name" : "presence sensor Prod",
    "deprecated" : false,
    "image" : "tb-image;/api/images/tenant/Capturar_(23).PNG",
    "description" : null,
    "descriptor" : {
      "type" : "latest",
      "sizeX" : 4.5,
      "sizeY" : 4.5,
      "resources" : [ ],
      "templateHtml" : "<div id=\"title\" [ngStyle]=\"{'background-color': '#ECE5DA' }\">\r\n  <p id=\"titulo\">{{entityName}}</p>\r\n  <div class=\"SVGdiv\">\r\n\r\n    <!-- Estado: Apagado (off) -->\r\n    <svg *ngIf=\"data == 'off'\" width=\"100\" height=\"100\" viewBox=\"0 0 64 64\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <rect width=\"64\" height=\"64\" rx=\"10\" fill=\"#CFCFCF\"/>\r\n    </svg>\r\n\r\n    <!-- Estado: Aceso (on) -->\r\n    <svg *ngIf=\"data == 'on'\" width=\"100\" height=\"100\" viewBox=\"0 0 64 64\" xmlns=\"http://www.w3.org/2000/svg\">\r\n      <rect width=\"64\" height=\"64\" rx=\"10\" fill=\"#CFCFCF\"/>\r\n      <circle cx=\"32\" cy=\"12\" r=\"4\" fill=\"black\"/>\r\n      <path d=\"M32 16c-2 0-4 2-4 4v6l-6 10c-1 2 0 4 2 5s4 0 5-2l5-8 5 10c1 2 3 3 5 2s3-3 2-5l-6-12v-6c0-2-2-4-4-4h-4z\" fill=\"black\"/>\r\n    </svg>\r\n\r\n  </div>\r\n</div>\r\n",
      "templateCss" : "\n\n#title{\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    gap: 5%;\n    width: 100%;\n    height: 100%;\n    margin: 0;\n}\n\n#container {\n    overflow: hidden;\n}\n\nsvg{\n    height: 90%;\n    z-index: 2;\n}\n\n.SVGdiv{\n    height: 50%;\n    width: 100%;\n    z-index: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\np{\n    margin:0;\n   padding: 10px;\n   z-index: 3;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n#titulo{\n    font-size: 1.1rem;\n}\n#conteudo{\n    font-size: 1.6rem;\n    font-weight: bold;\n}\n#legenda{\n    font-size: 0.9rem;\n    font-weight: 400;\n    margin: 0;\n}",
      "controllerScript" : "function fetchData() {\n    const subscriptionData = self.ctx.data[0].data;\n    const data = !subscriptionData.length || !subscriptionData[0][1]  ? null : subscriptionData[0][1] \n\n    self.ctx.$scope.data = data\n\n    var entityName = self.ctx.defaultSubscription.data[0]\n        .datasource.entityLabel\n    \n    self.ctx.$scope.entityName = entityName\n}\n\nself.onInit = function() {\n    self.ctx.detectChanges();\n}\n\nself.onDataUpdated = function() {\n    fetchData()\n    self.ctx.detectChanges();\n}\n\nself.onLatestDataUpdated = function() {\n    self.ctx.detectChanges();\n}",
      "settingsSchema" : "",
      "dataKeySettingsSchema" : "{}\n",
      "settingsDirective" : "",
      "dataKeySettingsDirective" : "tb-value-card-widget-settings",
      "hasBasicMode" : true,
      "defaultConfig" : "{\"datasources\":[{\"type\":\"function\",\"name\":\"function\",\"dataKeys\":[{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random\",\"color\":\"#2196f3\",\"settings\":{},\"_hash\":0.15479322438769105,\"funcBody\":\"var value = prevValue + Math.random() * 100 - 50;\\nvar multiplier = Math.pow(10, 2 || 0);\\nvar value = Math.round(value * multiplier) / multiplier;\\nif (value < -100) {\\n\\tvalue = -100;\\n} else if (value > 100) {\\n\\tvalue = 100;\\n}\\nreturn value;\",\"aggregationType\":null,\"units\":null,\"decimals\":null,\"usePostProcessing\":null,\"postFuncBody\":null},{\"name\":\"f(x)\",\"type\":\"function\",\"label\":\"Random 2\",\"color\":\"#4caf50\",\"settings\":{},\"_hash\":0.6972230379918407,\"funcBody\":\"var value = prevValue + Math.random() * 100 - 50;\\nvar multiplier = Math.pow(10, 2 || 0);\\nvar value = Math.round(value * multiplier) / multiplier;\\nif (value < -1000) {\\n\\tvalue = -1000;\\n} else if (value > 1000) {\\n\\tvalue = 1000;\\n}\\nreturn value;\"}],\"alarmFilterConfig\":{\"statusList\":[\"ACTIVE\"]}}],\"timewindow\":{\"realtime\":{\"timewindowMs\":60000}},\"showTitle\":false,\"backgroundColor\":\"#673AB500\",\"color\":\"rgb(255, 255, 255)\",\"padding\":\"0\",\"settings\":{\"TituloWidget\":\"Temperatura\"},\"title\":\"presence sensor Prod\",\"showTitleIcon\":false,\"titleTooltip\":\"\",\"dropShadow\":true,\"enableFullscreen\":false,\"widgetStyle\":{},\"widgetCss\":\"\",\"titleStyle\":{\"fontSize\":\"16px\",\"fontWeight\":400},\"pageSize\":1024,\"noDataDisplayMessage\":\"\",\"borderRadius\":\"10px\",\"configMode\":\"advanced\",\"useDashboardTimewindow\":true,\"displayTimewindow\":true,\"enableDataExport\":false}"
    },
    "externalId" : null,
    "resources" : null,
    "id" : {
      "entityType" : "WIDGET_TYPE",
      "id" : "1239f7d0-3c04-11f0-8cbd-2b87fdb093e1"
    },
    "scada" : false,
    "tags" : null
  },
  "relations" : [ ],
  "attributes" : {
    "SERVER_SCOPE" : [ ]
  }
}