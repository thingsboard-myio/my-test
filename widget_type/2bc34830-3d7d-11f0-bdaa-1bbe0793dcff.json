{
  "entityType" : "WIDGET_TYPE",
  "entity" : {
    "fqn" : "backbutton_last_state",
    "name" : "Backbutton last state",
    "deprecated" : false,
    "image" : "tb-image;/api/images/tenant/Capturar_(6).PNG",
    "description" : null,
    "descriptor" : {
      "type" : "static",
      "sizeX" : 13,
      "sizeY" : 6,
      "resources" : [ ],
      "templateHtml" : "<tb-action-button-widget \n    [ctx]=\"ctx\"\n    [widgetTitlePanel]=\"widgetTitlePanel\">\n</tb-action-button-widget>",
      "templateCss" : "#container tb-markdown-widget {\n    height: 100%;\n    display: block;\n}\n\n#container tb-markdown-widget .tb-markdown-view {\n    height: 100%;\n    overflow: auto;\n}\n",
      "controllerScript" : "self.onInit = function() {\r\n    const settings = self.ctx.settings;\r\n    console.log(\"dados\" ,self.ctx);\r\n    self.ctx.$scope.links = settings.links || [];\r\n    self.ctx.$scope.groupDashboardId = settings.groupDashboardId;\r\n\r\n    // ðŸ§  LÃª o ID do dashboard anterior, se existir nos parÃ¢metros de estado\r\n    const fromDashboardId = self.ctx.stateParams?.fromDashboardId || null;\r\n\r\n    self.ctx.$scope.backToPreviousDashboard = function(e) {\r\n        e.preventDefault();\r\n        if (fromDashboardId) {\r\n            self.ctx.navigateDashboard(fromDashboardId);\r\n        } else {\r\n            self.ctx.notify('Dashboard anterior nÃ£o disponÃ­vel', 'warn');\r\n        }\r\n    };\r\n\r\n    function changeDashboardState(e, stateId) {\r\n        e.preventDefault();\r\n        console.log(\"Clicado:\", stateId);\r\n        self.ctx.stateController.openState(stateId, {}, false);\r\n    }\r\n\r\n    self.ctx.$scope.changeDashboardState = changeDashboardState;\r\n};\r\n\r\n\r\n//  ng-click=\"backToPreviousDashboard($event)\" onclick=\"window.history.back();\"",
      "settingsSchema" : "{\r\n  \"targetDashboardId\": \"DESTINO_ID_DO_DASHBOARD\",\r\n  \"stateParams\": {\r\n    \"fromDashboardId\": \"{{ctx.dashboardId}}\"\r\n  }\r\n}\r\n",
      "dataKeySettingsSchema" : "",
      "defaultConfig" : "{\"showTitle\":false,\"backgroundColor\":\"#191B1F00\",\"color\":\"rgb(221, 31, 183)\",\"padding\":\"8px\",\"settings\":{\"links\":[{\"enableLink\":false,\"content\":\"Menu Entry\"}],\"linkCount\":5},\"title\":\"Backbutton last state\",\"dropShadow\":false,\"datasources\":[],\"timewindow\":{\"realtime\":{\"timewindowMs\":60000}},\"enableFullscreen\":false,\"widgetStyle\":{},\"titleStyle\":{\"fontSize\":\"16px\",\"fontWeight\":400},\"useDashboardTimewindow\":true,\"displayTimewindow\":true,\"showLegend\":false,\"actions\":{},\"borderRadius\":\"10px\",\"widgetCss\":\"\",\"pageSize\":1024,\"noDataDisplayMessage\":\"\",\"enableDataExport\":true}"
    },
    "externalId" : null,
    "resources" : null,
    "id" : {
      "entityType" : "WIDGET_TYPE",
      "id" : "2bc34830-3d7d-11f0-bdaa-1bbe0793dcff"
    },
    "scada" : false,
    "tags" : null
  },
  "relations" : [ ],
  "attributes" : {
    "SERVER_SCOPE" : [ ]
  }
}